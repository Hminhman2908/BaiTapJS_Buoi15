<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bài Tập 4</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="content m-5">
        <div class="title m-5">
          <h2>Tính Tiền Cáp</h2>
        </div>
        <div class="contents__input3">
          <select
            name=""
            id="loai-khach-hang"
            onchange="loaiKhachHangDropDown()"
          >
            <option value="" selected>Chọn loại khách hàng</option>
            <option value="ND">Nhà Dân</option>
            <option value="DN">Doanh Nghiệp</option>
          </select>

          <input
            type="text"
            id="nhap-ma-khach-hang"
            placeholder="Nhập mã khách hàng"
          />
          <input
            type="number"
            id="so-kenh-cao-cap"
            placeholder="Số kênh cao cấp"
          />
          <input
            type="number"
            id="so-ket-noi"
            placeholder="Số kết nối"
            style="display: none"
          />
        </div>
        <button
          class="btn btn-success mt-5 text-center"
          onclick="tinhTienCap()"
        >
          Tính Tiền Cáp
        </button>
        <div id="result" class="mt-5"></div>
      </div>
    </div>
    <div class="homeBack text-right mr-5">
      <button class="btn btn-warning">
        <a href="../index.html" class="text-white">BACK HOME</a>
      </button>
    </div>

    <script>
      function tinhTienCap() {
        var loaiKhachHang = document.getElementById("loai-khach-hang").value;
        var maKhachHang = document.getElementById("nhap-ma-khach-hang").value;
        var soKenhCaoCap = document.getElementById("so-kenh-cao-cap").value * 1;
        var soKetNoi = document.getElementById("so-ket-noi").value * 1;
        var phiXuLyHoaDon = 0;
        var phiDichVuCoBan = 0;
        var thueKenhCaoCap = 0;
        if (loaiKhachHang == "ND") {
          phiXuLyHoaDon = 4.5;
          phiDichVuCoBan = 20.5;
          thueKenhCaoCap = 7.5 * soKenhCaoCap;
        } else {
          phiXuLyHoaDon = 15;
          thueKenhCaoCap = 50 * soKenhCaoCap;
          if (soKetNoi <= 10) {
            phiDichVuCoBan = 75;
          } else {
            phiDichVuCoBan = 75 + (soKetNoi - 10) * 5;
          }
        }

        var tinhTienCap = phiXuLyHoaDon + phiDichVuCoBan + thueKenhCaoCap;
        document.getElementById(
          "result"
        ).innerHTML = `<h2 class="text-success">Tiền cáp của khách hàng ${maKhachHang} là: $${tinhTienCap}<h2/>`;
      }

      function loaiKhachHangDropDown(e) {
        var loaiKhachHang = document.getElementById("loai-khach-hang");
        var loaiKhachHangValue = loaiKhachHang.value;
        document.getElementById("so-ket-noi").style.display =
          loaiKhachHangValue == "DN" ? "block" : "none";
      }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
